<nav class="navbar navbar-expand-lg navbar-light bg-white shadow-lg py-3 fixed-top">
  <div class="container-fluid px-5">
    <!-- Logo + Nome -->
    <a class="navbar-brand d-flex align-items-center" routerLink="/">
      <img src="/ChatGPT_logo.png" alt="Insove" height="70" />
      <span class="ms-3 text-primary fs-3 fw-bold">ClinicaXPTO</span>
    </a>

    <!-- Botão de mobile -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Links de Navegação -->
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link px-3 text-dark fw-medium" [routerLink]="['/']">Início</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 text-dark fw-medium" [routerLink]="['/sobre']">Sobre Nós</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 text-dark fw-medium" [routerLink]="['/consultasExames']">Marcação</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 text-dark fw-medium" [routerLink]="['/medicos']">Médicos</a>
        </li>
        <li class="nav-item">
          <a class="nav-link px-3 text-dark fw-medium" [routerLink]="['/contato']">Contacte-nos</a>
        </li>
      </ul>

      <!-- Barra de Pesquisa + Contact + Perfil/Logins -->
      <div class="d-flex align-items-center gap-3">
        <!-- Localização e Telefone (visível apenas em telas grandes) -->
        <div class="d-none d-lg-flex align-items-center me-4">
          <i class="pi pi-map-marker text-secondary me-2"></i>
          <small class="text-secondary">ISPTEC, Talatona, Luanda</small>
        </div>
        <div class="d-none d-lg-flex align-items-center me-4">
          <i class="pi pi-phone text-secondary me-2"></i>
          <small class="text-secondary">(+244) 949-276-083</small>
        </div>

        <!-- Perfil ou Botões de Login -->
        <div class="profile-section" (mouseleave)="showDropdown = false" *ngIf="usuario; else loginButtons">
          <div class="profile-trigger" (mouseenter)="toggleDropdown()">
            <img *ngIf="usuario.fotografia" [src]="usuario.fotografia" alt="Foto de Perfil" class="profile-pic"
              (error)="onImgError()" />
            <i *ngIf="!usuario.fotografia" class="pi pi-user profile-icon"></i>
            <span class="ms-2">{{ usuario.nome }}</span>
          </div>
          <div class="dropdown-menu" *ngIf="showDropdown">
            <a [routerLink]="['/perfilUser']" class="dropdown-item" (click)="showDropdown = false">Ir para Perfil</a>
            <a class="dropdown-item" (click)="logout(); showDropdown = false">Logout</a>
          </div>
        </div>
        <ng-template #loginButtons>
          <div class="d-flex gap-2">
            <button pButton type="button" label="Entrar" icon="pi pi-sign-in" class="p-button-primary"
              [routerLink]="['/login']"></button>
            <button pButton type="button" label="Criar Conta" icon="pi pi-user-plus" class="p-button-primary"
              [routerLink]="['/register']"></button>
          </div>
        </ng-template>
      </div>
    </div>
  </div>
</nav>